<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<title>index.js - Twy'r Common</title>
		<meta name="description" content="Twy'r Common" />
		<meta name="keywords" content="twyr" />
		<meta name="keyword" content="twyr" />
		<meta property="og:title" content="Twy'r Common" />
		<meta property="og:type" content="documentation" />
		<meta property="og:image" content="./jsdoc_assets/img/logo.png" />
		<meta property="og:site_name" content="Twyr Common" />
		<meta property="og:url" content="https://twyr.github.io/common" />
		<script src="scripts/prettify/prettify.js"></script>
		<script src="scripts/prettify/lang-css.js"></script>
		<!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
		<link type="text/css" rel="stylesheet" href="styles/prettify.css">
		<link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
		<script src="scripts/nav.js" defer></script>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>

	<body>
		<input type="checkbox" id="nav-trigger" class="nav-trigger" />
		<label for="nav-trigger" class="navicon-button x">
			<div class="navicon"></div>
		</label>
		<label for="nav-trigger" class="overlay"></label>
		<nav>
			<input type="text" id="nav-search" placeholder="Search" />
			<h2><a href="index.html">Home</a></h2><h3>Global</h3>
			<ul>
				<li><a href="global.html#snooze">snooze</a></li>
			</ul>
		</nav>
		<div id="main">
			<h1 class="page-title">index.js</h1>
			<section>
				<article>
					<pre class="prettyprint source linenums"><code>'use strict';

/**
 * The name of the server - this is the name that is searched for in the database [modules.module_type = 'server' AND modules.name = ?].
 *
 * @ignore
 */
const SERVER_NAME = process.env.SERVER_NAME || 'TwyrCommon';

/**
 * Setup global variables (ugh!) to make life simpler across the rest of the codebase.
 *
 * @ignore
 */
global.twyrEnv = (process.env.NODE_ENV || 'development').toLocaleLowerCase();
process.title = SERVER_NAME;

/**
 *
 * @function
 * @global
 * @name	snooze
 *
 * @param   {number} [ms] - The number of millis to sleep.
 *
 * @returns {null} Nothing.
 *
 * @description
 * Utility to allow non-blocking sleep in async/await mode without the ugly setTimeout
 * appearing all over the place.
 *
 */
global.snooze = async (ms) => {
	const Promise = require('bluebird');
	return new Promise((resolve) => {
		setTimeout(resolve, ms);
	});
};

/**
 * Mandatory error handlers, just to ensure no unknown crashes happen.
 *
 * @ignore
 */
process.on('uncaughtException', (err) => {
	console.error(`Uncaught Exception: ${err.message}\n${err.stack}`);
	process.exit(1); // eslint-disable-line no-process-exit
});

process.on('unhandledRejection', (reason, location) => {
	console.error(`Unhandled Rejection: ${reason} at:`, location);
});

/**
 * Start the actual process of doing business.
 *
 * @ignore
 */
require('./server/index.js');
</code></pre>
				</article>
			</section>
		</div>
		<br class="clear">
		<footer>
			Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.4</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
		</footer>
		<script>
			prettyPrint();

		</script>
		<script src="scripts/polyfill.js"></script>
		<script src="scripts/linenumber.js"></script>
		<script src="scripts/search.js" defer></script>
		<script src="scripts/collapse.js" defer></script>
	</body>

</html>
